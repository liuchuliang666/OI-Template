前置知识：[轮廓线DP](./轮廓线DP.md)

带有连通性记录的轮廓线DP。

插头DP的思想和理解其实并不难，难的是巨大的分类讨论与复杂的代码实现。

???+ question "[P5056 【模板】插头 DP](https://www.luogu.com.cn/problem/P5056)"
    ural 1519

    陈丹琦《基于连通性状态压缩的动态规划问题》中的例题。

    给出 $n\times m$ 的方格，有些格子不能铺线，其它格子必须铺，形成一个闭合回路。问有多少种铺法？

    - 对于 $100\%$ 的数据，保证 $2\le n,m\le 12$。

??? code "实现"
    ```cpp
    --8<-- "docs/DP/code/Luogu_P_5056.cpp"
    ```